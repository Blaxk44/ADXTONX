<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>AdTONX - TON Revenue Protocol</title>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js"></script>
    
    <!-- Icon Library -->
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
    
    <!-- Ad Networks SDK -->
    <script src="https://alwingulla.com/88/p.js" async></script>
    <script src="https://app.adsgram.ai/js/adsgram-ad-sdk.js"></script>
    <script src="https://cdn.tgads.space/assets/js/adexium-widget.min.js"></script>
    
    <!-- Telegram Web App SDK -->
    <script src="https://telegram.org/js/telegram-web-app.js?56"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <style>
        /* 保留所有原始CSS样式 */
        :root {
            --primary-glow: rgba(34, 211, 238, 0.15);
            --secondary-glow: rgba(59, 130, 246, 0.1);
            --accent-glow: rgba(139, 92, 246, 0.08);
        }

        body { 
            -webkit-user-select: none; 
            user-select: none; 
            background-color: #020617; 
            color: #f8fafc; 
            margin: 0; 
            padding: 0; 
            overflow-x: hidden; 
            font-family: 'Space Grotesk', sans-serif; 
        }

        .blockchain-viewport { 
            position: fixed; 
            inset: 0; 
            z-index: -1; 
            background: #010409;
            overflow: hidden;
        }

        .ambient-glow-1 {
            position: absolute;
            width: 140vw;
            height: 140vh;
            top: -20vh;
            left: -20vw;
            background: radial-gradient(circle at 30% 30%, var(--primary-glow) 0%, transparent 60%);
            animation: drift-glow 25s ease-in-out infinite alternate;
            filter: blur(80px);
        }

        .ambient-glow-2 {
            position: absolute;
            width: 120vw;
            height: 120vh;
            bottom: -10vh;
            right: -10vw;
            background: radial-gradient(circle at 70% 70%, var(--secondary-glow) 0%, transparent 50%);
            animation: drift-glow 30s ease-in-out infinite alternate-reverse;
            filter: blur(100px);
        }

        .blockchain-mesh { 
            position: absolute; 
            inset: 0; 
            background-image: 
                linear-gradient(rgba(34, 211, 238, 0.04) 1.5px, transparent 1.5px), 
                linear-gradient(90deg, rgba(34, 211, 238, 0.04) 1.5px, transparent 1.5px); 
            background-size: 60px 60px; 
            opacity: 0.6;
            transform: perspective(1000px) rotateX(20deg) scale(1.2);
            transform-origin: top;
            animation: mesh-move 60s linear infinite;
            mask-image: radial-gradient(ellipse at 50% 50%, black 20%, transparent 100%);
        }

        .data-streams {
            position: absolute;
            inset: 0;
            pointer-events: none;
        }

        .stream-bit {
            position: absolute;
            width: 1px;
            height: 80px;
            background: linear-gradient(to bottom, transparent, rgba(34, 211, 238, 0.4), transparent);
            animation: bit-fall linear infinite;
        }

        .node-block {
            position: absolute;
            width: 40px;
            height: 40px;
            border: 1px solid rgba(255, 255, 255, 0.08);
            background: rgba(15, 23, 42, 0.4);
            backdrop-filter: blur(4px);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            animation: float-node linear infinite;
            box-shadow: inset 0 0 10px rgba(34, 211, 238, 0.05);
        }

        .node-block::after {
            content: '';
            width: 4px;
            height: 4px;
            background: #22d3ee;
            border-radius: 50%;
            box-shadow: 0 0 8px #22d3ee;
            animation: pulse-dot 2s infinite;
        }

        .glass-panel { 
            background: rgba(15, 23, 42, 0.4); 
            backdrop-filter: blur(24px); 
            border: 1px solid rgba(255, 255, 255, 0.08); 
            box-shadow: 0 12px 40px 0 rgba(0, 0, 0, 0.5), inset 0 0 20px rgba(34, 211, 238, 0.03); 
        }

        .glass-nav { 
            background: rgba(2, 6, 23, 0.85); 
            backdrop-filter: blur(25px); 
            border-top: 1px solid rgba(255, 255, 255, 0.06); 
        }

        .no-scrollbar::-webkit-scrollbar { display: none; }

        @keyframes drift-glow {
            0% { transform: translate(0, 0) scale(1); }
            50% { transform: translate(-5%, 5%) scale(1.1); }
            100% { transform: translate(5%, -5%) scale(1); }
        }

        @keyframes mesh-move {
            from { background-position: 0 0; }
            to { background-position: 0 600px; }
        }

        @keyframes bit-fall {
            from { transform: translateY(-100px); opacity: 0; }
            20% { opacity: 1; }
            80% { opacity: 1; }
            to { transform: translateY(110vh); opacity: 0; }
        }

        @keyframes float-node {
            from { transform: translateY(110vh) rotate(0deg); opacity: 0; }
            10% { opacity: 0.4; }
            90% { opacity: 0.4; }
            to { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
        }

        @keyframes pulse-dot {
            0%, 100% { opacity: 0.5; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.5); }
        }

        @keyframes slide-down { 0% { transform: translate(-50%, -100%); } 100% { transform: translate(-50%, 0); } }
        
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }
        
        @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        @keyframes loading-bar {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(300%); }
        }

        .animate-loading-bar {
            animation: loading-bar 2s infinite cubic-bezier(0.4, 0, 0.2, 1);
        }

        .animate-spin-slow { animation: spin 8s linear infinite; }

        .stream-bit:nth-child(1) { left: 5%; animation-duration: 3s; animation-delay: 0s; }
        .stream-bit:nth-child(2) { left: 20%; animation-duration: 4s; animation-delay: 1.5s; }
        .stream-bit:nth-child(3) { left: 45%; animation-duration: 2.5s; animation-delay: 0.5s; }
        .stream-bit:nth-child(4) { left: 70%; animation-duration: 5s; animation-delay: 2s; }
        .stream-bit:nth-child(5) { left: 90%; animation-duration: 3.5s; animation-delay: 1s; }

        .node-block:nth-child(1) { left: 15%; animation-duration: 28s; animation-delay: 0s; }
        .node-block:nth-child(2) { left: 80%; animation-duration: 32s; animation-delay: -10s; }
        .node-block:nth-child(3) { left: 40%; animation-duration: 24s; animation-delay: -5s; }
    </style>
</head>
<body>
    <!-- Background Effects -->
    <div class="blockchain-viewport">
        <div class="ambient-glow-1"></div>
        <div class="ambient-glow-2"></div>
        <div class="blockchain-mesh"></div>
        <div class="data-streams">
            <div class="stream-bit"></div>
            <div class="stream-bit"></div>
            <div class="stream-bit"></div>
            <div class="stream-bit"></div>
            <div class="stream-bit"></div>
        </div>
        <div class="floating-blocks">
            <div class="node-block"></div>
            <div class="node-block"></div>
            <div class="node-block"></div>
        </div>
    </div>

    <!-- Main Content Container -->
    <div id="app">
        <!-- Content will be dynamically loaded here -->
    </div>

    <!-- Navigation (will be shown after login) -->
    <nav id="navigation" class="glass-nav fixed bottom-0 left-0 right-0 px-8 pt-4 pb-10 z-[100] border-t border-white/5 hidden">
        <div class="max-w-md mx-auto flex justify-between items-center">
            <a href="#/" class="nav-item" data-page="home">
                <div class="flex flex-col items-center gap-1.5">
                    <i data-lucide="home" class="text-slate-500"></i>
                    <span class="text-[8px] font-black uppercase tracking-widest opacity-60">Home</span>
                </div>
            </a>
            <a href="#/ads" class="nav-item" data-page="ads">
                <div class="flex flex-col items-center gap-1.5">
                    <i data-lucide="play" class="text-slate-500"></i>
                    <span class="text-[8px] font-black uppercase tracking-widest opacity-60">Yield</span>
                </div>
            </a>
            <a href="#/tasks" class="nav-item" data-page="tasks">
                <div class="flex flex-col items-center gap-1.5">
                    <i data-lucide="check-square" class="text-slate-500"></i>
                    <span class="text-[8px] font-black uppercase tracking-widest opacity-60">Quests</span>
                </div>
            </a>
            <a href="#/wallet" class="nav-item" data-page="wallet">
                <div class="flex flex-col items-center gap-1.5">
                    <i data-lucide="wallet" class="text-slate-500"></i>
                    <span class="text-[8px] font-black uppercase tracking-widest opacity-60">Vault</span>
                </div>
            </a>
            <a href="#/profile" class="nav-item" data-page="profile">
                <div class="flex flex-col items-center gap-1.5">
                    <i data-lucide="user" class="text-slate-500"></i>
                    <span class="text-[8px] font-black uppercase tracking-widest opacity-60">Node</span>
                </div>
            </a>
        </div>
    </nav>

    <!-- Scripts -->
    <script>
        // Define global variables
        window.AdTONX = {
            config: {
                BOT_USERNAME: "AdTONX_BOT",
                MINI_APP_NAME: "app",
                ARENA_ELIGIBILITY: 700,
                PRIZE_POOL: 5.0,
                OFFICIAL_CHANNEL: "https://t.me/AdTONX_News"
            },
            user: null,
            currentPage: 'home',
            pages: {}
        };

        // Firebase config
        const firebaseConfig = {
            apiKey: "AIzaSyCToNn1VqYZrZjjbbBA2KW126ZBso-0D80",
            authDomain: "adtonx-bot.firebaseapp.com",
            projectId: "adtonx-bot",
            storageBucket: "adtonx-bot.firebasestorage.app",
            messagingSenderId: "290170776005",
            appId: "1:290170776005:web:82f88036aa42d080e2c3ac"
        };
    </script>
    
    <script src="js/firebase.js"></script>
    <script src="js/router.js"></script>
    <script src="js/pages/home.js"></script>
    <script src="js/pages/ads.js"></script>
    <script src="js/pages/tasks.js"></script>
    <script src="js/pages/wallet.js"></script>
    <script src="js/pages/profile.js"></script>
    <script src="js/pages/admin.js"></script>
    <script src="js/pages/leaderboard.js"></script>
    <script src="js/main.js"></script>
</body>
</html>